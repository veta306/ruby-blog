<h2>Comments</h2>

<% if @comment && @comment.errors.any? %>
  <div style="color: red">
    <h2><%= pluralize(@comment.errors.count, "error") %> prohibited this comment from being saved:</h2>
    <ul>
      <% @comment.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<div id="comments">
  <%# Expands to render partial: "comments/comment", collection: post.comments %>
  <% post.comments.each do |comment| %>
  <% if comment.persisted? %>
    <%= render comment %>
  <% end %>
<% end %>
</div>

<%= render "comments/new", post: post %>